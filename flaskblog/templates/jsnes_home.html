{% extends "layout.html" %}

{% block content %}
    <link rel="stylesheet"
        type="text/css"
        href="{{ url_for('static', filename='css/nes_player.css') }}">
    <script src="{{ url_for('static', filename='js/nes_player.js') }}" defer></script>
    <script src="{{ url_for('static', filename='js/jsnes.min.js') }}"></script>

    <!-- ROM loading progress -->
    <div id="loading-container" style="display:none;">
        <p>Loading ROM: <span id="progress-percent">0%</span></p>
        <progress id="progress-bar" max="100" value="0"></progress>
    </div>

    <!-- Canvas container -->
    <div id="canvas-container" class="content-section">
        <canvas id="nes-canvas" width="256" height="240"></canvas>
    </div>

    <div id="emulator-settings" class="content-section">
        <h3>Emulator Settings</h3>

        <!-- Label and ROM loader -->
        <label for="rom-loader">Load ROM:</label>
        <input type="file" id="rom-loader" accept=".nes" />

        <label for="save-load-controls">Savestates:</label>
        <div id="save-load-controls">
            <button id="save-state">Save State</button>
            <button id="load-state">Load State</button>
            <input type="file" id="load-state-file" accept=".json" style="display:none;" />
            <button id="load-state-from-file">Load State from File</button>
            <button id="save-state-to-file">Save State to File</button>
        </div>

        <label for="fps-controls">FPS Controls:</label>
        <div id="fps-controls">
            <button id="increase-fps">Increase FPS</button>
            <button id="decrease-fps">Decrease FPS</button>
            <span>FPS: <span id="fps-display">80</span></span>
        </div>
    </div>
    <!-- Emulator controls -->
    <!-- <div id="controls" class="content-section">
        <h3>Controls</h3>
        
        <button id="start">Start</button>
        <button id="select">Select</button>
        <button id="a">A</button>
        <button id="b">B</button>
        <button id="up">Up</button>
        <button id="down">Down</button>
        <button id="left">Left</button>
        <button id="right">Right</button>
    </div> -->

    <!-- Full Screen button -->
    <!-- <button id="fullscreen">Full Screen</button> -->
{% endblock %}

{% block sidebar %}
    <h3>Game Button Map</h3>
    <h3>(Click to Remap)</h3>
    <!-- Sidebar content -->
    <ul id="button-map">
        <li id="map-start" data-button="Enter">Start: Enter</li>
        <li id="map-select" data-button="c">Select: C</li>
        <li id="map-a" data-button="x">A: X</li>
        <li id="map-b" data-button="z">B: Z</li>
        <li id="map-up" data-button="ArrowUp">Up: ArrowUp</li>
        <li id="map-down" data-button="ArrowDown">Down: ArrowDown</li>
        <li id="map-left" data-button="ArrowLeft">Left: ArrowLeft</li>
        <li id="map-right" data-button="ArrowRight">Right: ArrowRight</li>
        <li id="map-fps-boost" data-button="f">FPS Boost: F</li>
    </ul>
{% endblock %}
